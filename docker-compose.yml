version: '3.8'

services:
  fastlane-online-solver:
    container_name: fastlane-online-solver-${ENV:-dev}
    image: ghcr.io/fastlane-labs/fastlane-online-solver:${TAG:-latest}
    environment:
      MODE: ${MODE}
      SOLVER_PK: ${SOLVER_PK}
    command:
      - --profit_margin_x10000=500
      - --frontrun_gas_margin_gwei=1
      - --fastlane_online_address=0xCf00A98bA4ea1D967f34B07Ff76f61E1A5521B96
      - --solver_contract_address=0x566419cD0800C96DfaD9D787e897FfAb573f0E8f
      - --pools_config_file=pools_config_polygon.yaml
      - --pools_bin_file=pools_polygon.bin
      - --swap_paths_bin_file=swap_paths_polygon.bin
      - --mempool_connection_eth_method=alchemy_pendingTransactions
      - --max_concurrent_rpc_calls=5
      - --log_level=debug

networks:
  default:
    external: true
    name: main
